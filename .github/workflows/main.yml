- name: Set up Python
    uses: actions/setup-python@v4
    with:
      python-version: '3.9'

  - name: Install dependencies
    run: |
      python -m pip install --upgrade pip
      pip install requests pandas

  - name: Run Fetcher
    run: python update_data.py

  - name: Commit and Push changes
    run: |
      git config --global user.name 'DataBot'
      git config --global user.email 'bot@data.com'
      git add tlv_deals_master.csv
      git commit -m "Update TLV Real Estate Data" || echo "No changes to commit"
      git push
